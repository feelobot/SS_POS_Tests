Before do
  require 'helpers/manager'
  @open = Manager.new
	$ss.dbSnapshots(File.basename(__FILE__,".rb") + '\Before')
end

After do
	$ss.dbSnapshots(File.basename(__FILE__,".rb") + '\After')
end
#///////////////////////////////////////////////////////////////////////////////////////////////////
# STEP 1
#///////////////////////////////////////////////////////////////////////////////////////////////////
Given /^the status of the till is "(.*?)"$/ do |arg1|
  @testname = File.basename(__FILE__,".rb")
  $b.goto($baseURL) 
  $ss.nav("Manager")
  @open.checkOpening(arg1)
  $ss.takeScreenShot(@testname,'Step1')
end
#///////////////////////////////////////////////////////////////////////////////////////////////////
# STEP 2
#///////////////////////////////////////////////////////////////////////////////////////////////////
When /^I store the following into cash count helper$/ do |table|
  values = table.raw
  @open.setCashCountValues(values)
  $ss.takeScreenShot(@testname,'Step2')
end
#///////////////////////////////////////////////////////////////////////////////////////////////////
# STEP 3
#///////////////////////////////////////////////////////////////////////////////////////////////////
Then /^I should get the following results$/ do |table|
  results = table.raw
  @open.verifyCashCountValues(results)
end

And /^the "(.*?)" should be "(.*?)"$/ do |arg1, arg2|
  @open.getValues(arg1) == arg2
  $ss.takeScreenShot(@testname, 'Step3')
end

#///////////////////////////////////////////////////////////////////////////////////////////////////
# STEP 4
#///////////////////////////////////////////////////////////////////////////////////////////////////
When /^I hit "(.*?)" Opening Till Count$/ do |arg1|
  @open.push(arg1)
  $ss.takeScreenShot(@testname,'Step4a')
end

Then /^the status should change to "(.*?)"$/ do |arg1|
  @open.checkOpening(arg1)
  $ss.takeScreenShot(@testname,'Step4b')
end
